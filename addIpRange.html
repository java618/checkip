<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<h1>Add Ip Range</h1>
<label for="lowerIp">Lower Ip:</label><br>
<input type="text" id="lowerIp" name="lowerIp"><br>
<label for="upperIp">Upper Ip:</label><br>
<input type="text" id="upperIp" name="upperIp"><br><br>
<input type="button" id="cancel" value="Cancel">
<input type="submit" id="save" value="Save"><br><br>
<p id="demo"></p>

<script type="text/javascript">

    $(document).on('click', '#cancel', function(){
        window.location.pathname = "/ipRange/checkIp.html"
    })

    $(document).on('click', '#save', function(){
        $.ajax({
            url: "http://localhost:8080/ipRange/addRange",
            type: "POST",
            data: JSON.stringify({
                "lowerIp": document.getElementById('lowerIp').value,
                "upperIp": document.getElementById('upperIp').value
            }),
            contentType: "application/json",
            // dataType: "json",
            success: function(data){
                if (data === "Ip Range successfully created")
                    window.location.pathname = "/ipRange/checkIp.html"
                else
                    $('#demo').text("Ip Range is not correct");
            },
            error: function( data, textStatus, errorThrown ){
                // console.log( data );
            }
        })
    })

</script>

</body>
</html>