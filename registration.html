<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<h1>Hello </h1>
<label for="name">Name:</label><br>
<input type="text" id="name" name="name"><br>
<label for="password">Password:</label><br>
<input type="password" id="password" name="password"><br><br>
<input type="button" id="signIn" value="Sign in"><br><br>
<p>If you have account return to Login page</p>
<input type="button" id="logIn" value="Log in"><br>
<p id="demo"></p>

<script type="text/javascript">

    $(document).on('click', '#logIn', function () {
        window.location.pathname = "/ipRange/index.html"
    })

    $(document).on('click', '#signIn', function () {

        console.log("name " + document.getElementById('name').value)
        console.log("pass " + document.getElementById('password').value)

        $.ajax({
            url: "http://localhost:8080/registration",
            type: "POST",
            data: JSON.stringify({
                "name": document.getElementById('name').value,
                "password": document.getElementById('password').value
            }),
            contentType: "application/json",
            // dataType: "json",
            success: function(data){
                if (data === "User successfully created")
                    window.location.pathname = "/ipRange/index.html"
                else
                $('#demo').text( data );
            },
            error: function( data, textStatus, errorThrown ){
                // console.log( data );
            }
        })
    })

</script>
</body>
</html>
